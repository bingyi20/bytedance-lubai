# 2021大厂前端核心面试题详解

## 1. 说一下工作中解决过的比较困难的问题，说一下自己项目中比较有亮点的地方

## 2. 你了解浏览器的时间循环吗？

2.1 为什么js在浏览器中有事件循环的机制？

JS是单线程的

event loop

2.2 两种任务？

宏任务：整体代码，setTimeout, setInterval, I/O 操作

微任务：new Promise().then, MutationObserver

2.3 为什么要引入微任务的概念，只有宏任务可以吗？
宏任务队列，遵循先进先出的原则，代码执行工程中有可能会产生一些优先级特别高的任务，我们想要它尽快执行，所以引入了微任务的概念。
一个宏任务队列执行过程中产生的微任务队列会等当前宏任务执行之后立即执行，优于后续宏任务执行。

## 你了解Promise吗？ 平时用得多吗？

Promise.all 你知道有什么特性吗？

手写Promise.all吧


## 5. 有做过前端加载优化相关的工作吗？都做过那些努力

做性能优化的目的是什么？
H5直播间用户量巨大，首屏时间加载过慢，用户体验不太好，吐槽很多。

1. 只请求当前需要的资源
    异步加载，懒加载，polyfill

2. 缩减资源体积
    打包压缩 webpack 4 production 内置
    gzip 1.2M 300K
    图片格式的优化，压缩，根据屏幕分辨率展示不同分辨率的图片，webp
    尽量控制cookie大小

3. 时序优化
    js promise.all
    ssr
    prefetch, prerender, preload

4. 合理理解缓存

    cdn cdn预热 cdn刷新

5. 如果有一段js执行时间非常长，怎么去分析？
measure.js

装饰器

6. 阿里云oss支持通过链接后面拼接参数来做图片的格式转换，尝试写一下，把任意图片格式转换为webp，需要注意什么？
